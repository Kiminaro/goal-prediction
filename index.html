<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Σύστημα Πρόβλεψης Γκολ</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
    }
    .tabs {
      display: flex;
      flex-wrap: wrap;
      background: #222;
    }
    .tab-button {
      padding: 10px 15px;
      background: #333;
      color: white;
      border: none;
      cursor: pointer;
    }
    .tab-button.active {
      background: #007bff;
    }
    .tab-content {
      display: none;
      padding: 20px;
      background: white;
    }
    .tab-content.active {
      display: block;
    }
    input, select, button {
      margin: 5px;
      padding: 5px;
    }
    .result {
      margin-top: 10px;
      font-weight: bold;
      color: green;
    }
    .section {
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="tabs" id="tabs"></div>
  <div id="tabContents"></div>

  <script>
    const tabs = [
      "1ο Ημίχρονο - Πρόβλεψη",
      "2ο Ημίχρονο - Πρόβλεψη",
      "Μέσος Χρόνος Γκολ",
      "Over/Under Πιθανότητα",
      "BTTS Value Bet",
      "Κόρνερ με Πρόβλεψη",
      "Value Bet Finder",
      "Απόδοση ➜ Πιθανότητα"
    ];

    const tabsContainer = document.getElementById("tabs");
    const contentsContainer = document.getElementById("tabContents");

    tabs.forEach((tab, i) => {
      const btn = document.createElement("button");
      btn.textContent = tab;
      btn.classList.add("tab-button");
      if (i === 0) btn.classList.add("active");
      btn.addEventListener("click", () => switchTab(i));
      tabsContainer.appendChild(btn);

      const div = document.createElement("div");
      div.classList.add("tab-content");
      if (i === 0) div.classList.add("active");
      div.innerHTML = `<h2>${tab}</h2><div class='section' id="content-${i}"></div>`;
      contentsContainer.appendChild(div);
    });

    function switchTab(index) {
      document.querySelectorAll(".tab-button").forEach((btn, i) => {
        btn.classList.toggle("active", i === index);
      });
      document.querySelectorAll(".tab-content").forEach((content, i) => {
        content.classList.toggle("active", i === index);
      });
    }

    // Example for tab 0 (1ο Ημίχρονο - Πρόβλεψη)
    const tab0 = document.getElementById("content-0");
    tab0.innerHTML = `
      <label>Ομάδα 1 - Τελευταία 5 αποτελέσματα (0/1):</label><br>
      <input type="number" min="0" max="1" id="team1_0"> <input type="number" min="0" max="1" id="team1_1">
      <input type="number" min="0" max="1" id="team1_2"> <input type="number" min="0" max="1" id="team1_3">
      <input type="number" min="0" max="1" id="team1_4"><br>

      <label>Ομάδα 2 - Τελευταία 5 αποτελέσματα (0/1):</label><br>
      <input type="number" min="0" max="1" id="team2_0"> <input type="number" min="0" max="1" id="team2_1">
      <input type="number" min="0" max="1" id="team2_2"> <input type="number" min="0" max="1" id="team2_3">
      <input type="number" min="0" max="1" id="team2_4"><br>

      <label>Απόδοση:</label> <input type="number" step="0.01" id="odds_0">
      <label>Τρέχον Λεπτό:</label> <input type="number" id="minute_0">

      <button onclick="calculatePrediction('0')">🔮 Υπολόγισε</button>
      <div class="result" id="result_0"></div>
    `;

    function calculatePrediction(suffix) {
      try {
        const vals1 = Array.from({length: 5}, (_, i) => parseInt(document.getElementById(`team1_${i}`).value));
        const vals2 = Array.from({length: 5}, (_, i) => parseInt(document.getElementById(`team2_${i}`).value));
        if (!vals1.concat(vals2).every(v => v === 0 || v === 1)) throw "Μη έγκυρα σκορ";

        const odds = parseFloat(document.getElementById(`odds_${suffix}`).value);
        const minute = parseInt(document.getElementById(`minute_${suffix}`).value);

        const prob1 = vals1.reduce((a,b) => a + b, 0) / 5;
        const prob2 = vals2.reduce((a,b) => a + b, 0) / 5;
        const baseProb = (prob1 + prob2) / 2;

        const timeFactor = 1 - (minute / 45);
        const adjustedProb = (1 / odds) * timeFactor;

        const output = `Πιθανότητα βάσει φόρμας: ${(baseProb * 100).toFixed(1)}%<br>
          Προσαρμοσμένη Πιθανότητα: ${(adjustedProb * 100).toFixed(1)}%`;
        document.getElementById(`result_${suffix}`).innerHTML = output;
      } catch (err) {
        document.getElementById(`result_${suffix}`).textContent = '⚠️ Σφάλμα στα δεδομένα';
      }
    }
  </script>
</body>
</html>
